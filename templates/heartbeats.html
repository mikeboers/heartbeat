{% extends "_main.html" %}
{% block body %}

{% set service = component.service %}

<h3>
    <a href="/">Services</a> &raquo;
    <a href="{{ url_for('get_service', name=service.name) }}">{{ service.name }}</a> &raquo;
    {{ component.name }}
</h3>

<table class="table table-striped table-hover">
    <thead><tr>
        <td><!-- status -->
        <td>Name
        <td>Time
        <td>Origin
        <td>Actions
    <tbody>
    {% for heartbeat in component.heartbeats %}
        {% set service = None %}
        {% set component = None %}
        {% include "_heartbeat_tr.html" %}
    {% endfor %}

</table>


<h3>Script Integration</h3>
<p>Copy the following command into the end of your script to create
   a heartbeat here.
</p>
<input id="curl" class="input-block-level" type="text" value='curl -F"service={{ service.name }}" -F"name={{ component.name }}" {{ request.url_root }}api/beat' />

<script>
    $("#curl").click(function() {
       $(this).select();
    });
</script>

{% endblock %}
